:root{--primary-50: #eef2ff;--primary-100: #e0e7ff;--primary-200: #c7d2fe;--primary-300: #a5b4fc;--primary-400: #818cf8;--primary-500: #6366f1;--primary-600: #4f46e5;--primary-700: #4338ca;--primary-800: #3730a3;--primary-900: #312e81;--accent-400: #34d399;--accent-500: #10b981;--accent-600: #059669;--gray-50: #f9fafb;--gray-100: #f3f4f6;--gray-200: #e5e7eb;--gray-300: #d1d5db;--gray-400: #9ca3af;--gray-500: #6b7280;--gray-600: #4b5563;--gray-700: #374151;--gray-800: #1f2937;--gray-900: #111827;--danger-500: #ef4444;--danger-600: #dc2626;--warning-500: #f59e0b;--success-500: #10b981;--info-500: #3b82f6;--bg-body: #f0f2f5;--bg-card: #ffffff;--bg-sidebar: #1e1b4b;--bg-sidebar-hover: #312e81;--bg-sidebar-active: rgba(99, 102, 241, .2);--text-sidebar: #c7d2fe;--text-sidebar-active: #ffffff;--font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;--text-xs: .75rem;--text-sm: .8125rem;--text-base: .875rem;--text-lg: 1rem;--text-xl: 1.125rem;--text-2xl: 1.5rem;--text-3xl: 1.875rem;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--radius-sm: 6px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--shadow-sm: 0 1px 2px rgba(0,0,0,.05);--shadow-md: 0 4px 6px -1px rgba(0,0,0,.07), 0 2px 4px -2px rgba(0,0,0,.05);--shadow-lg: 0 10px 15px -3px rgba(0,0,0,.08), 0 4px 6px -4px rgba(0,0,0,.04);--shadow-xl: 0 20px 25px -5px rgba(0,0,0,.1), 0 8px 10px -6px rgba(0,0,0,.06);--transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--transition-base: .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: .35s cubic-bezier(.4, 0, .2, 1);--sidebar-width: 260px;--sidebar-collapsed: 72px;--header-height: 64px}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-family);font-size:var(--text-base);color:var(--gray-800);background:var(--bg-body);line-height:1.6;overflow:hidden}a{color:inherit;text-decoration:none}button{font-family:inherit;cursor:pointer;border:none;background:none}input,select,textarea{font-family:inherit;font-size:inherit}img{max-width:100%;display:block}#app{display:flex;height:100vh;overflow:hidden}.sidebar{width:var(--sidebar-width);background:var(--bg-sidebar);display:flex;flex-direction:column;transition:width var(--transition-base);z-index:100;flex-shrink:0}.sidebar-brand{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-6) var(--space-5);border-bottom:1px solid rgba(255,255,255,.08)}.brand-icon{flex-shrink:0}.brand-name{font-size:var(--text-lg);font-weight:700;color:#fff;white-space:nowrap;letter-spacing:-.02em}.sidebar-nav{flex:1;padding:var(--space-4) var(--space-3);display:flex;flex-direction:column;gap:var(--space-1);overflow-y:auto}.nav-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3) var(--space-4);border-radius:var(--radius-md);color:var(--text-sidebar);font-size:var(--text-sm);font-weight:500;transition:all var(--transition-fast);white-space:nowrap}.nav-item:hover{background:var(--bg-sidebar-hover);color:#fff}.nav-item.active{background:var(--bg-sidebar-active);color:var(--text-sidebar-active)}.nav-item svg{flex-shrink:0;opacity:.7}.nav-item.active svg,.nav-item:hover svg{opacity:1}.sidebar-footer{padding:var(--space-4) var(--space-5);border-top:1px solid rgba(255,255,255,.08)}.connection-status{display:flex;align-items:center;gap:var(--space-2);font-size:var(--text-xs);color:var(--text-sidebar)}.status-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}.status-dot.online{background:var(--accent-400);box-shadow:0 0 6px var(--accent-400)}.status-dot.offline{background:var(--gray-500)}.status-dot.error{background:var(--danger-500)}.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0}.top-header{height:var(--header-height);background:var(--bg-card);border-bottom:1px solid var(--gray-200);display:flex;align-items:center;padding:0 var(--space-8);gap:var(--space-4);flex-shrink:0;box-shadow:var(--shadow-sm)}.menu-toggle{display:none;color:var(--gray-600);padding:var(--space-2);border-radius:var(--radius-sm)}.menu-toggle:hover{background:var(--gray-100)}.page-title{font-size:var(--text-xl);font-weight:700;color:var(--gray-900);letter-spacing:-.02em}.header-actions{margin-left:auto;display:flex;align-items:center;gap:var(--space-3)}.content-area{flex:1;overflow-y:auto;padding:var(--space-8)}.card{background:var(--bg-card);border-radius:var(--radius-lg);box-shadow:var(--shadow-md);border:1px solid var(--gray-100)}.card-header{padding:var(--space-5) var(--space-6);border-bottom:1px solid var(--gray-100);display:flex;align-items:center;justify-content:space-between}.card-title{font-size:var(--text-lg);font-weight:600;color:var(--gray-900)}.card-body{padding:var(--space-6)}.form-group{display:flex;flex-direction:column;gap:var(--space-1)}.form-label{font-size:var(--text-sm);font-weight:500;color:var(--gray-600)}.form-label .required{color:var(--danger-500);margin-left:2px}.form-input,.form-select,.form-textarea{width:100%;padding:var(--space-2) var(--space-3);border:1.5px solid var(--gray-200);border-radius:var(--radius-sm);font-size:var(--text-base);color:var(--gray-800);background:#fff;transition:all var(--transition-fast);outline:none}.form-input:hover,.form-select:hover,.form-textarea:hover{border-color:var(--gray-300)}.form-input:focus,.form-select:focus,.form-textarea:focus{border-color:var(--primary-500);box-shadow:0 0 0 3px var(--primary-100)}.form-input::placeholder{color:var(--gray-400)}.form-textarea{resize:vertical;min-height:80px}.form-select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%236b7280' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;padding-right:32px}.form-row{display:grid;gap:var(--space-4)}.form-row-2{grid-template-columns:1fr 1fr}.form-row-3{grid-template-columns:1fr 1fr 1fr}.form-row-4{grid-template-columns:1fr 1fr 1fr 1fr}.searchable-dropdown{position:relative}.searchable-dropdown .dropdown-menu{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid var(--gray-200);border-radius:var(--radius-sm);box-shadow:var(--shadow-lg);max-height:220px;overflow-y:auto;z-index:50;display:none;margin-top:2px}.searchable-dropdown.open .dropdown-menu{display:block;animation:slideDown .15s ease}.dropdown-item{padding:var(--space-2) var(--space-3);cursor:pointer;font-size:var(--text-sm);transition:background var(--transition-fast);display:flex;align-items:center;gap:var(--space-2)}.dropdown-item:hover,.dropdown-item.highlighted{background:var(--primary-50);color:var(--primary-700)}.dropdown-item.add-new{border-top:1px solid var(--gray-100);color:var(--primary-600);font-weight:500}.dropdown-item.add-new svg{flex-shrink:0}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-2) var(--space-5);border-radius:var(--radius-sm);font-size:var(--text-sm);font-weight:600;transition:all var(--transition-fast);white-space:nowrap;height:38px}.btn-primary{background:linear-gradient(135deg,var(--primary-500),var(--primary-600));color:#fff;box-shadow:0 1px 3px #6366f14d}.btn-primary:hover{background:linear-gradient(135deg,var(--primary-600),var(--primary-700));box-shadow:0 4px 12px #6366f166;transform:translateY(-1px)}.btn-secondary{background:#fff;color:var(--gray-700);border:1.5px solid var(--gray-200)}.btn-secondary:hover{background:var(--gray-50);border-color:var(--gray-300)}.btn-success{background:linear-gradient(135deg,var(--accent-500),var(--accent-600));color:#fff;box-shadow:0 1px 3px #10b9814d}.btn-success:hover{background:linear-gradient(135deg,var(--accent-600),#047857);box-shadow:0 4px 12px #10b98166;transform:translateY(-1px)}.btn-danger{background:#fff;color:var(--danger-500);border:1.5px solid var(--danger-500)}.btn-danger:hover{background:#fef2f2}.btn-ghost{color:var(--gray-500);padding:var(--space-2)}.btn-ghost:hover{background:var(--gray-100);color:var(--gray-700)}.btn-sm{height:32px;padding:var(--space-1) var(--space-3);font-size:var(--text-xs)}.btn-lg{height:44px;padding:var(--space-3) var(--space-8);font-size:var(--text-base)}.btn-icon{width:36px;height:36px;padding:0;border-radius:var(--radius-sm)}.btn-icon-sm{width:30px;height:30px;padding:0;border-radius:var(--radius-sm)}.data-table{width:100%;border-collapse:separate;border-spacing:0}.data-table thead th{background:var(--gray-50);padding:var(--space-3) var(--space-3);font-size:var(--text-xs);font-weight:600;color:var(--gray-500);text-transform:uppercase;letter-spacing:.05em;text-align:left;border-bottom:1px solid var(--gray-200);white-space:nowrap;position:sticky;top:0;z-index:5}.data-table tbody td{padding:var(--space-2) var(--space-3);border-bottom:1px solid var(--gray-100);vertical-align:middle}.data-table tbody tr{transition:background var(--transition-fast)}.data-table tbody tr:hover{background:var(--primary-50)}.data-table .col-actions{width:80px;text-align:center}.data-table .col-num{width:50px;text-align:center;color:var(--gray-400);font-weight:500}.item-table .form-input,.item-table .form-select{border:1px solid transparent;background:transparent;padding:var(--space-1) var(--space-2);border-radius:var(--radius-sm);font-size:var(--text-sm)}.item-table .form-input:hover,.item-table .form-select:hover{border-color:var(--gray-200);background:#fff}.item-table .form-input:focus,.item-table .form-select:focus{border-color:var(--primary-400);background:#fff;box-shadow:0 0 0 2px var(--primary-100)}.item-table .total-cell{font-weight:600;color:var(--gray-900);font-variant-numeric:tabular-nums}.item-table .row-actions{display:flex;gap:2px;justify-content:center}.invoice-summary{margin-left:auto;width:340px;border:1px solid var(--gray-200);border-radius:var(--radius-md);overflow:hidden}.summary-row{display:flex;justify-content:space-between;align-items:center;padding:var(--space-3) var(--space-4);font-size:var(--text-sm)}.summary-row:not(:last-child){border-bottom:1px solid var(--gray-100)}.summary-row.total{background:var(--primary-50);font-size:var(--text-lg);font-weight:700;color:var(--primary-700);padding:var(--space-4) var(--space-4)}.summary-label{color:var(--gray-600)}.summary-value{font-weight:600;color:var(--gray-800);font-variant-numeric:tabular-nums}.modal-overlay{position:fixed;inset:0;background:#0006;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .2s ease}.modal-overlay.hidden{display:none}.modal-container{background:#fff;border-radius:var(--radius-xl);box-shadow:var(--shadow-xl);width:90%;max-width:560px;max-height:90vh;overflow-y:auto;animation:scaleIn .2s ease}.modal-header{padding:var(--space-5) var(--space-6);border-bottom:1px solid var(--gray-100);display:flex;align-items:center;justify-content:space-between}.modal-title{font-size:var(--text-xl);font-weight:700;color:var(--gray-900)}.modal-body{padding:var(--space-6)}.modal-footer{padding:var(--space-4) var(--space-6);border-top:1px solid var(--gray-100);display:flex;justify-content:flex-end;gap:var(--space-3)}.toast-container{position:fixed;top:var(--space-6);right:var(--space-6);z-index:2000;display:flex;flex-direction:column;gap:var(--space-3)}.toast{background:var(--gray-800);color:#fff;padding:var(--space-3) var(--space-5);border-radius:var(--radius-md);font-size:var(--text-sm);font-weight:500;box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:var(--space-3);animation:slideIn .3s ease;max-width:380px}.toast.success{background:var(--accent-600)}.toast.error{background:var(--danger-600)}.toast.warning{background:var(--warning-500);color:var(--gray-900)}.badge{display:inline-flex;align-items:center;padding:2px 8px;border-radius:100px;font-size:var(--text-xs);font-weight:600}.badge-draft{background:#fef3c7;color:#92400e}.badge-sent{background:#dbeafe;color:#1e40af}.badge-paid{background:#d1fae5;color:#065f46}.empty-state{text-align:center;padding:var(--space-12) var(--space-8);color:var(--gray-400)}.empty-state svg{margin:0 auto var(--space-4);opacity:.5}.empty-state h3{font-size:var(--text-lg);color:var(--gray-600);margin-bottom:var(--space-2)}.empty-state p{font-size:var(--text-sm);max-width:360px;margin:0 auto}.spinner{width:20px;height:20px;border:2px solid var(--gray-200);border-top-color:var(--primary-500);border-radius:50%;animation:spin .6s linear infinite}.add-row-btn{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);color:var(--primary-600);font-weight:500;font-size:var(--text-sm);border-radius:var(--radius-sm);transition:all var(--transition-fast);cursor:pointer;border:1.5px dashed var(--primary-200);background:var(--primary-50);width:100%;justify-content:center;margin-top:var(--space-3)}.add-row-btn:hover{background:var(--primary-100);border-color:var(--primary-400)}.invoice-actions{display:flex;justify-content:flex-end;gap:var(--space-3);padding-top:var(--space-6);border-top:1px solid var(--gray-200);margin-top:var(--space-6)}.settings-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-6)}.settings-section{display:flex;flex-direction:column;gap:var(--space-4)}.settings-section h3{font-size:var(--text-base);font-weight:600;color:var(--gray-800);padding-bottom:var(--space-2);border-bottom:1px solid var(--gray-100)}.image-upload{border:2px dashed var(--gray-200);border-radius:var(--radius-md);padding:var(--space-6);text-align:center;cursor:pointer;transition:all var(--transition-fast);position:relative;overflow:hidden}.image-upload:hover{border-color:var(--primary-400);background:var(--primary-50)}.image-upload img{max-height:120px;margin:0 auto;object-fit:contain}.image-upload .upload-placeholder{color:var(--gray-400);font-size:var(--text-sm)}.image-upload input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}@keyframes slideIn{0%{opacity:0;transform:translate(40px)}to{opacity:1;transform:translate(0)}}@keyframes spin{to{transform:rotate(360deg)}}.tab-bar{display:flex;gap:var(--space-1);border-bottom:2px solid var(--gray-200);margin-bottom:var(--space-6)}.tab-item{padding:var(--space-3) var(--space-5);font-size:var(--text-sm);font-weight:500;color:var(--gray-500);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all var(--transition-fast);cursor:pointer}.tab-item:hover{color:var(--gray-700)}.tab-item.active{color:var(--primary-600);border-bottom-color:var(--primary-600)}.invoice-list-table{width:100%}.invoice-list-table th{position:sticky;top:0}.invoice-number-link{color:var(--primary-600);font-weight:600;cursor:pointer}.invoice-number-link:hover{color:var(--primary-700);text-decoration:underline}@media(max-width:1024px){.sidebar{position:fixed;left:-100%;top:0;bottom:0;transition:left var(--transition-base);z-index:200}.sidebar.open{left:0}.menu-toggle{display:block}.form-row-3,.form-row-4{grid-template-columns:1fr 1fr}.settings-grid{grid-template-columns:1fr}.invoice-summary{width:100%}}@media(max-width:640px){.content-area{padding:var(--space-4)}.form-row-2{grid-template-columns:1fr}.invoice-actions{flex-wrap:wrap}.top-header{padding:0 var(--space-4)}}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--gray-300);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--gray-400)}
